(this["webpackJsonpup.admin"]=this["webpackJsonpup.admin"]||[]).push([[0],{16:function(e,t,n){e.exports={post:"PostWithOptions_post__3evis",image:"PostWithOptions_image__1hV8O",info:"PostWithOptions_info__uRXRv",title:"PostWithOptions_title__3tK1F",entradilla:"PostWithOptions_entradilla__1xuva",dates:"PostWithOptions_dates__nYvmn",action:"PostWithOptions_action__3EAF3"}},20:function(e,t,n){e.exports={fields_container:"UniversitiesAddForeign_fields_container__1a8f8",carreras:"UniversitiesAddForeign_carreras__1BXEK",car_label:"UniversitiesAddForeign_car_label__6CTmQ",image:"UniversitiesAddForeign_image__3RmAz"}},25:function(e,t,n){e.exports={post_form:"PostForm_post_form__1PIy9",input_label:"PostForm_input_label__19hqo",label:"PostForm_label__1qLut",input:"PostForm_input__7S9oF"}},28:function(e,t,n){e.exports={posts:"PostsIndex_posts__8RnJl",action_buttoms:"PostsIndex_action_buttoms__1rHmf"}},29:function(e,t,n){e.exports={section:"LateralMenuSection_section__1POgK",active:"LateralMenuSection_active__3XLx9",disabled_link:"LateralMenuSection_disabled_link__2jVe0"}},36:function(e){e.exports=JSON.parse('{"Nombre universidad":"nombre_universidad","Video presentaci\xf3n":"video_pres","Descripci\xf3n":"descripcion_uni","Proceso de admisi\xf3n":"proceso_admision","Contacto de admisi\xf3n":"contacto_admision","Apoyo financiero":"apoyo_financiero","Mapa":"mapa","Acreditaciones":"acreditaciones","Intercambios":"intercambios","Link de internacionalizaci\xf3n":"link_internacionalizacion","Url sitio web":"web","ID carrera":"id_carrera","Video de la carrera":"video","Prop\xf3sito de la carrera":"proposito_carrera","Perfil del aspirante":"perfil_aspirante","Perfil profesional":"perfil_prof","Precio del semestre":"precio_semestre"}')},37:function(e,t,n){e.exports={buttons:"Universities_buttons__-N2FR",universities:"Universities_universities__1Npcf"}},50:function(e,t,n){e.exports={users:"Users_users__3Gl4k"}},53:function(e,t,n){},55:function(e,t,n){e.exports={menu:"LateralMenu_menu__32ncj"}},61:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(32),c=n.n(r),s=(n(60),n(13)),o=(n(61),n(2)),l=n(8),u=n(0);var d=function(){return Object(u.jsx)("div",{})},j=n(4),b=n.n(j),p=n(15),f=n.n(p),h=n(17),O=n.n(h),m=n(22),v=n(82);function x(){return(x=Object(m.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.a)(t).then((function(e){var t=e.shift(),n=[];return e.forEach((function(e){var a={};e.forEach((function(e,n){a[t[n]]=e})),n.push(a)})),n})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(e){return x.apply(this,arguments)},_=n(50),y=n.n(_),S=f()(b.a);var C=function(){var e=Object(a.useRef)();function t(t){t.preventDefault();var n=e.current.files[0];g(n).then((function(e){S.showLoading(),fetch("http://universidadesyprofesiones.com/api/add_school",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file:e})}).then((function(e){return e.json()})).then((function(e){S.fire({title:"Usuarios procesados",html:Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("ul",{styles:{listStyle:"none"},children:[Object(u.jsxs)("li",{children:["Usuarios registrados: ",e.success]}),Object(u.jsxs)("li",{children:["Usuarios fallidos: ",e.failed]}),0!==e.failed&&Object(u.jsxs)("li",{children:["Usuarios existentes: ",e.existingEmails]})]})})})}))}))}return Object(u.jsx)("div",{className:y.a.users,children:Object(u.jsx)("button",{onClick:function(){S.fire({html:Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{onSubmit:t,children:[Object(u.jsx)("input",{type:"file",name:"file",ref:e}),Object(u.jsx)("button",{type:"submit",children:"Enviar"})]})}),showConfirmButton:!1})},children:"Agregar colegio "})})},w=n(3);var N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object(a.useState)([]),r=Object(w.a)(i,2),c=r[0],s=r[1],l=Object(a.useState)(!1),d=Object(w.a)(l,2),j=d[0],b=d[1];function p(e){s(e),j||b(!0)}return Object(u.jsx)(e.Provider,{value:Object(o.a)({content:c,setContent:p,loaded:j},n),children:t})},P=Object(a.createContext)([]);function L(e){var t=e.children;return N(P,t)}var F=P,E="https://universidadesyprofesiones.com";var k=function(e){if("object"!==typeof e)throw new Error("Se espara un objeto como par\xe1metro. Se est\xe1 recibiendo un elemento de tipo ".concat(typeof e));var t=Object.keys(e),n=new FormData;return t.forEach((function(t){n.append(t,e[t])})),n};function A(){return(A=Object(m.a)(O.a.mark((function e(t){var n,a=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.abrupt("return",fetch("".concat(E,"/api/").concat(t),{method:"POST",body:k(n)}).then((function(e){return e.json()})).then((function(e){return Object.values(e)})).catch((function(e){return{error:!0,msg:e}})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(e){return A.apply(this,arguments)};var D=function(){var e=Object(a.useContext)(F),t=e.content,n=e.setContent,i=e.loaded;return Object(a.useEffect)((function(){T("get_posts").then((function(e){n(e)}))}),[]),{posts:t,setPosts:n,postsLoaded:i}};var q=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)};function U(){return(U=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k({id:t}),e.abrupt("return",fetch("".concat(E,"/api/delete_post"),{method:"POST",body:n}).then((function(e){return e.json()})).catch((function(e){return{success:!1,message:e}})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=function(e){return U.apply(this,arguments)},I=n(16),R=n.n(I),z=n.p+"static/media/delete_icon.bd21180d.png",G=n.p+"static/media/edit_icon.3f69390c.png";var M=function(e){var t=e.post,n=e.onPostDeleted,a=Object(l.f)().push,i=Object(l.g)().pathname;function r(e){return e.split("-").reverse().join("/")}return Object(u.jsxs)("div",{className:R.a.post,children:[Object(u.jsx)("div",{className:R.a.image,children:Object(u.jsx)("img",{src:"".concat(E,"/images/posts/post/").concat(t.image,"?").concat(q(1e4,99999)),alt:"Posts"})}),Object(u.jsxs)("div",{className:R.a.info,children:[Object(u.jsx)("div",{className:R.a.title,children:t.title}),Object(u.jsx)("div",{className:R.a.entradilla,children:t.entradilla}),Object(u.jsxs)("div",{className:R.a.dates,children:[Object(u.jsxs)("div",{className:R.a.created,children:["Publicada: ",r(t.created_at.split(" ")[0])]}),Object(u.jsxs)("div",{className:R.a.updated,children:["\xdaltima actualizaci\xf3n: ",r(t.updated_at.split(" ")[0])]})]})]}),Object(u.jsxs)("div",{className:R.a.action,children:[Object(u.jsx)("img",{src:z,alt:"Delete icon",onClick:function(){b.a.fire({icon:"warning",title:"\xbfEst\xe1s seguro?",text:"Est\xe1s a punto de eliminar el post: ".concat(t.title),showCancelButton:!0,cancelButtonText:"No eliminar",cancelButtonColor:"green",confirmButtonText:"Eliminar",confirmButtonColor:"red"}).then((function(e){e.isConfirmed&&(b.a.showLoading(),B(t.id_post).then((function(e){e.success?(b.a.fire({icon:"success",title:"Post eliminado con \xe9xito"}),n()):b.a.fire({icon:"error",title:"Hubo un problema tratando de eliminar el post"})})))}))}}),Object(u.jsx)("img",{src:G,alt:"Edit icon",onClick:function(){var e=t.title.trim().replaceAll(" ","-").toLowerCase();a({pathname:"".concat(i,"/edit/").concat(e),state:{post:t}})}})]})]})},J=n(28),H=n.n(J);var V=function(e){var t=e.match.path,n=D(),a=n.posts,i=n.setPosts;return Object(u.jsxs)("div",{className:H.a.posts,children:[Object(u.jsx)("div",{className:H.a.action_buttoms,children:Object(u.jsx)(s.b,{to:"".concat(t,"/new"),children:"Hacer publicaci\xf3n nueva"})}),Object(u.jsx)("div",{className:H.a.posts,children:a.map((function(e,t){return Object(u.jsx)(M,{post:e,onPostDeleted:function(){return function(e){var t=a.slice();t.splice(e,1),i(t)}(t)}},t)}))})]})},W=n(52),K=n.n(W),X=n(25),Q=n.n(X);var Y=function(e){var t=e.update,n=e.postInfo,i=void 0===n?{}:n,r=Object(a.useState)(""),c=Object(w.a)(r,2),s=c[0],o=c[1],d=Object(a.useState)(""),j=Object(w.a)(d,2),p=j[0],f=j[1],h=Object(a.useState)(void 0),O=Object(w.a)(h,2),m=O[0],v=O[1],x=Object(a.useState)(""),g=Object(w.a)(x,2),_=g[0],y=g[1],S=Object(a.useState)(""),C=Object(w.a)(S,2),N=C[0],P=C[1],L=Object(a.useState)("Actualidad universitaria"),F=Object(w.a)(L,2),k=F[0],A=F[1],T=Object(l.f)().push,D=Object(a.useRef)(null),U=Object(a.useRef)(null);return Object(a.useEffect)((function(){!Object.keys(i).length||(o(i.title),f(i.entradilla),v(i.image),y(i.post),P(i.tags))}),[i]),Object(a.useEffect)((function(){"object"===typeof m?U.current.src=URL.createObjectURL(m):"string"===typeof m&&(U.current.src="".concat(E,"/images/posts/post/").concat(i.image,"?").concat(q(1e4,99999)))}),[m,i]),Object(u.jsxs)("div",{className:Q.a.post_form,children:[Object(u.jsx)(Z,{title:"T\xedtulo",onChange:function(e){return o(e)},value:s}),Object(u.jsx)(Z,{title:"Entradilla",onChange:function(e){return f(e)},value:p}),Object(u.jsx)(Z,{title:"Imagen",inputElement:Object(u.jsx)("input",{type:"file",onChange:function(e){return v(e.target.files[0])},accept:"image/*"})}),m&&Object(u.jsx)("img",{src:"",alt:"Preview",ref:U}),Object(u.jsx)(Z,{title:"Post",inputElement:Object(u.jsx)(K.a,{ref:D,value:_,config:{readonly:!1},onBlur:function(e){return y(e)}})}),Object(u.jsx)("label",{children:"Seleccione una secci\xf3n para la noticias"}),Object(u.jsx)("br",{}),Object(u.jsxs)("select",{required:!0,onChange:function(e){return A(e.target.value)},style:{marginBottom:"25px"},children:[Object(u.jsx)("option",{value:"Actualidad universitaria",children:"Actualidad universitaria"}),Object(u.jsx)("option",{value:"Noticias interes",children:"Noticias interes"})]}),Object(u.jsx)(Z,{title:"Tags",onChange:function(e){return P(e)},value:N}),Object(u.jsx)("button",{onClick:function(){var e=new FormData;e.append("title",s),e.append("entradilla",p),e.append("image",m),e.append("post",_),e.append("tags",N),e.append("seccion",k);var n="add_post";t&&(n="update_post",e.append("post_id",i.id_post));var a=t?"Publicaci\xf3n actualizada con \xe9xito":"Publicaci\xf3n creada con \xe9xito";b.a.showLoading(),fetch("".concat(E,"/api/").concat(n),{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){b.a.fire({icon:e.success?"success":"error",text:e.success?a:e.message}).then((function(){T("/posts")}))})).catch((function(e){b.a.fire({icon:"error",text:"Ha ocurrido un error inesperado del lado del servidor: ".concat(e)})}))},children:t?"Actualizar publicaci\xf3n":"Crear publicaci\xf3n"})]})};function Z(e){var t=e.title,n=e.inputElement,a=e.onChange,i=e.value;return Object(u.jsxs)("div",{className:Q.a.input_label,children:[Object(u.jsx)("label",{className:Q.a.label,children:t}),n||Object(u.jsx)("input",{type:"text",autoComplete:"off",onInput:function(e){return a(e.target.value)},className:Q.a.input,value:i})]})}var $=function(){return Object(u.jsx)(Y,{})};var ee=function(e){var t=new FormData;return t.append("title",e),fetch("".concat(E,"/get_post.php"),{method:"POST",body:t}).then((function(e){return e.json()})).catch((function(e){return{success:!1,message:e}}))};var te=function(){var e=Object(a.useState)(),t=Object(w.a)(e,2),n=t[0],i=t[1],r=Object(l.g)().state,c=Object(l.h)().title,s=Object(l.f)().push;return Object(a.useEffect)((function(){r&&r.post?i(r.post):ee(c).then((function(e){e.success?i(e.post):b.a.fire({icon:"error",text:"No se pudo cargar el post a editar: ".concat(e.message)}).then((function(){s("/posts")}))}))}),[]),Object(u.jsx)(Y,{update:!0,postInfo:n})};var ne=function(e){var t=e.match.path;return Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{exact:!0,path:t,component:V}),Object(u.jsx)(l.a,{path:"".concat(t,"/new"),component:$}),Object(u.jsx)(l.a,{path:"".concat(t,"/edit/:title"),component:te})]})},ae=n(53),ie=n.n(ae),re=f()(b.a);var ce=function(){var e=Object(a.useRef)();function t(t){t.preventDefault();var n=e.current.files[0];Object(v.a)(n).then((function(e){var t=e.shift(),n=0;e.forEach((function(e){var a={};e.forEach((function(e,n){a[t[n]]=e})),fetch("https://universidadesyprofesiones.com/api/prof_masivo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.success&&n++}))})),b.a.fire({title:"Subida completa",text:"Subidas: ".concat(n,"/").concat(e.length)})}))}return Object(u.jsx)("div",{className:ie.a.professions,children:Object(u.jsx)("button",{onClick:function(){re.fire({html:Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{onSubmit:t,encType:"multipart/form-data",method:"POST",children:[Object(u.jsx)("input",{type:"file",name:"file",id:"file",ref:e}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{type:"submit",children:"Enviar"})]})}),showConfirmButton:!1})},children:"Agregar archivo"})})};var se=function(e){var t=e.match.path;return Object(u.jsx)(l.c,{children:Object(u.jsx)(l.a,{exact:!0,path:t,component:ce})})},oe=Object(a.createContext)([]);function le(e){var t=e.children;return N(oe,t)}var ue=oe;var de=function(){var e=Object(a.useContext)(ue),t=e.content,n=e.setContent,i=e.loaded;return Object(a.useEffect)((function(){T("universidades").then((function(e){n(e)}))}),[]),{universities:t,setUniversities:n,universitiesLoaded:i}},je=n(21);var be=function(e){var t=e.university;return Object(u.jsx)("div",{children:Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:t.nombre_universidad,alt:""})})})},pe=n(18),fe=n(81);var he=function(){return T("paises")};var Oe=function(){return T("profesiones")},me=n(20),ve=n.n(me);var xe=function(){var e=Object(a.useState)({profesiones:[]}),t=Object(w.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)([]),c=Object(w.a)(r,2),s=c[0],l=c[1],d=Object(a.useState)([]),j=Object(w.a)(d,2),b=j[0],p=j[1],f=Object(a.useRef)(),h=Object(a.useRef)();function O(e){var t=e.target.dataset.id,a=n.profesiones.slice();if(e.target.checked)a.push(t);else{var r=a.findIndex((function(e){return parseInt(e)===parseInt(t)}));a.splice(r,1)}i((function(e){return Object(o.a)(Object(o.a)({},e),{},{profesiones:a})}))}function m(e,t){i((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(pe.a)({},e,t.target.value))}))}return Object(a.useEffect)((function(){Oe().then((function(e){p(e)})),he().then((function(e){l(e)}))}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("style",{children:ge}),Object(u.jsx)("h1",{children:"Formulario de registro de universidades extranjeras"}),Object(u.jsx)("br",{}),Object(u.jsxs)(fe.a,{onSubmit:function(e){e.preventDefault(),T("create_universidad",n).then((function(e){console.log(e)}))},children:[Object(u.jsx)("div",{className:ve.a.fields_container,children:_e.map((function(e,t){return Object(u.jsxs)(fe.a.Group,{children:[Object(u.jsx)(fe.a.Label,{children:e.label}),Object(u.jsx)(fe.a.Control,{type:e.type,as:e.as,rows:e.rows,placeholder:e.placeholder,value:n[e.dataName],onChange:function(t){return m(e.dataName,t)},required:e.required}),e.required&&Object(u.jsx)(fe.a.Text,{style:{color:"red"},children:"Obligatorio"})]},t)}))}),Object(u.jsxs)("div",{className:"carreras_container",children:[Object(u.jsx)("h2",{children:"Selecciona las carreras que se mostrar\xe1n en esta universidad"}),Object(u.jsx)(fe.a.Control,{onInput:function(e){var t=e.target.value;document.querySelectorAll(".".concat(ve.a.car_label)).forEach((function(e){e.textContent.indexOf(t)>-1?e.style.display="block":e.style.display="none"}))},placeholder:"Ingresa el nombre de la carrera"}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:ve.a.carreras,children:b.map((function(e,t){return Object(u.jsxs)("label",{className:ve.a.car_label,id:"car-".concat(t),name:"car-".concat(t),children:[Object(u.jsx)("input",{type:"checkbox",onChange:O,"data-id":e.id_carrera}),e.nombre_carrera]})}))})]}),Object(u.jsxs)("div",{className:"paises",children:[Object(u.jsx)("h4",{children:"Selecciona el pa\xeds al que pertenece la univeridad"}),Object(u.jsxs)("select",{name:"pais",id:"pais",onChange:function(e){return m("id_pais",e)},required:!0,children:[Object(u.jsx)("option",{children:"Selecciona un pa\xeds"}),s.map((function(e,t){return Object(u.jsx)("option",{value:e.id_pais,children:e.nombre_pais},t)}))]})]}),Object(u.jsxs)("div",{className:ve.a.image,children:[Object(u.jsx)("label",{children:"Imagen campus: "}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"file",accept:"image/*",id:"campus",name:"campus",onChange:function(e){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(){var e=document.createElement("img");e.src=t.result,f.current.innerHTML="",f.current.append(e)},i((function(t){return Object(o.a)(Object(o.a)({},t),{},{campus:e.target.files[0]})}))}}),Object(u.jsx)("div",{id:"preview",style:{marginTop:"30px"},ref:f})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:ve.a.image,children:[Object(u.jsx)("label",{children:"Logo: "}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"file",accept:"image/*",id:"logo",name:"logo",onChange:function(e){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(){var e=document.createElement("img");e.src=t.result,h.current.innerHTML="",h.current.append(e)},i((function(t){return Object(o.a)(Object(o.a)({},t),{},{logo:e.target.files[0]})}))}}),Object(u.jsx)("div",{id:"preview",style:{marginTop:"30px"},ref:h})]}),Object(u.jsx)("br",{}),Object(u.jsx)(je.a,{type:"submit",variant:"success",children:"Crear universidad"})]})]})},ge="\n    .swal2-modal {\n        width: 60vw !important;\n    }\n",_e=[{label:"Nombre universidad",type:"text",placeholder:"Nombre de la universidad",dataName:"nombre_universidad",required:!0},{label:"Video presentaci\xf3n",type:"text",placeholder:"Video presentaci\xf3n",dataName:"video_pres",required:!0},{label:"Descripci\xf3n",placeholder:"Descripci\xf3n de la universidad",as:"textarea",rows:7,dataName:"descripcion_uni",required:!0},{label:"Proceso de admisi\xf3n",placeholder:"Proceso de admisi\xf3n",as:"textarea",rows:7,dataName:"proceso_admision",required:!0},{label:"Link admisi\xf3n",type:"text",placeholder:"Link de redirecci\xf3n del proceso de admisi\xf3n",dataName:"link_admision"},{label:"Contacto de admisi\xf3n",placeholder:"Contacto de admisi\xf3n",as:"textarea",rows:7,dataName:"contacto_admision",required:!0},{label:"Apoyo financiero",placeholder:"Apoyo financiero",as:"textarea",rows:7,dataName:"apoyo_financiero",required:!0},{label:"Link de apoyo financiero",type:"text",placeholder:"Link de redirecci\xf3n hac\xeda la parte de apoyo financiero",dataName:"link_apoyo"},{label:"P\xe1gina web",type:"text",placeholder:"P\xe1gina web",dataName:"web"},{label:"Becas",placeholder:"Becas",as:"textarea",rows:7,dataName:"becas"},{label:"Link becas",type:"text",placeholder:"Link becas",dataName:"link_becas"},{label:"Cursos online",placeholder:"Cursos online",as:"textarea",rows:7,dataName:"cursos_online"},{label:"Precio matr\xedcula",type:"number",placeholder:"Precio matr\xedcula",dataName:"matricula_cuotas"},{label:"Vida en el campus",placeholder:"Vida en el campus",as:"textarea",rows:7,dataName:"vida_campus"},{label:"Lista de reproducci\xf3n de testimonios",type:"text",placeholder:"Lista de reproducci\xf3n de testimonios",dataName:"testimonios"}],ye=n(54);var Se=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new FormData,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:FileList,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=Object(ye.a)(n);try{for(i.s();!(e=i.n()).done;){var r=e.value;t.append("".concat(a,"[]"),r)}}catch(c){i.e(c)}finally{i.f()}},Ce=f()(b.a);var we=function e(){var t=Object(a.useState)([]),n=Object(w.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)(0),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(a.useState)([]),j=Object(w.a)(d,2),p=j[0],f=j[1],h=Object(a.useState)([]),O=Object(w.a)(h,2),m=O[0],v=O[1],x=Object(a.useState)([]),_=Object(w.a)(x,2),y=_[0],S=_[1];return Object(a.useEffect)((function(){he().then((function(e){r(e)}))}),[]),Object(u.jsxs)(fe.a,{onSubmit:function(t){t.preventDefault(),p.length===m.length?g(y[0]).then((function(e){var t=new FormData;t.append("id_pais",o),t.append("universidades",JSON.stringify(e)),Se(t,p,"logos"),Se(t,m,"campus"),fetch("".concat(E,"/api/add_basic_u"),{method:"POST",body:t}).then((function(e){e.success&&b.a.fire({title:"Subida terminada",text:"Se han subido las universidades correctamente"})}))})):b.a.fire({title:"Algo no cuadra...",icon:"error",text:"La cantidad de logos no es la misma que la de campus."}).then((function(){Ce.fire({title:"Formulario universidades b\xe1sicas",html:Object(u.jsx)(e,{}),showConfirmButton:!1})}))},children:[Object(u.jsxs)(fe.a.Group,{children:[Object(u.jsx)(fe.a.Label,{children:"Selecciona el pa\xeds de las universidades"}),Object(u.jsxs)(fe.a.Select,{"aria-label":"Paises",onChange:function(e){return l(e.target.value)},required:!0,children:[Object(u.jsx)("option",{children:"Selecciona un pa\xeds..."}),i.map((function(e,t){return Object(u.jsx)("option",{value:e.id_pais,children:e.nombre_pais},t)}))]})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(fe.a.Group,{children:[Object(u.jsx)(fe.a.Label,{children:"Archivo"}),Object(u.jsx)(fe.a.Control,{type:"file",id:"archivo",name:"archivo",onChange:function(e){return S(e.target.files)}})]}),Object(u.jsx)("br",{}),Object(u.jsx)(fe.a.Text,{children:"Para que las universidades se suban correctamente, tanto los logos como las fotos del campus deben tener el mismo nombre"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)(fe.a.Group,{children:[Object(u.jsx)(fe.a.Label,{children:"Logos"}),Object(u.jsx)(fe.a.Control,{type:"file",id:"logos",name:"logos",multiple:!0,accept:"image/*",onChange:function(e){return f(e.target.files)}})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(fe.a.Group,{children:[Object(u.jsx)(fe.a.Label,{children:"Fotos de campus"}),Object(u.jsx)(fe.a.Control,{type:"file",id:"campus",name:"campus",multiple:!0,accept:"image/*",onChange:function(e){return v(e.target.files)}})]}),Object(u.jsx)("br",{}),Object(u.jsx)(je.a,{type:"submit",variant:"success",children:"Subir universidades"})]})};var Ne=function(){var e=Object(a.useState)([]),t=Object(w.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)([]),c=Object(w.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)(),d=Object(w.a)(l,2),j=d[0],b=d[1];return Object(a.useEffect)((function(){fetch("".concat(E,"/api/universidades"),{method:"POST"}).then((function(e){return e.json()})).then((function(e){return o(e)}))}),[]),Object(u.jsxs)(fe.a,{onSubmit:function(e){e.preventDefault(),g(n[0]).then((function(e){var t=new FormData;t.append("u",j),t.append("universidades",JSON.stringify(e)),fetch("".concat(E,"/api/add_profs_to_national"),{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}))},children:[Object(u.jsx)(fe.a.Group,{children:Object(u.jsxs)(fe.a.Select,{"aria-label":"Universidades",onChange:function(e){return b(e.target.value)},required:!0,children:[Object(u.jsx)("option",{children:"Selecciona una universidad..."}),s.map((function(e,t){return Object(u.jsx)("option",{value:e.id_universidad,children:e.nombre_universidad},t)}))]})}),Object(u.jsx)("br",{}),Object(u.jsxs)(fe.a.Group,{children:[Object(u.jsx)(fe.a.Label,{children:"A\xf1adir archivo"}),Object(u.jsx)(fe.a.Control,{type:"file",id:"archivo",name:"archivo",onChange:function(e){return i(e.target.files)}})]}),Object(u.jsx)("br",{}),Object(u.jsx)(je.a,{type:"submit",variant:"success",children:"Subir universidades"})]})};var Pe=function(){var e=Object(a.useState)([]),t=Object(w.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(""),c=Object(w.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)([]),d=Object(w.a)(l,2),j=d[0],p=d[1];return Object(a.useEffect)((function(){he().then((function(e){p(e)}))}),[]),Object(u.jsxs)(fe.a,{onSubmit:function(e){e.preventDefault(),g(n[0]).then((function(e){var t=new FormData;t.append("pais",s),t.append("universidades",JSON.stringify(e)),fetch("".concat(E,"/api/convert_basics_profile"),{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){e.success?b.a.fire({title:"Proceso terminado con \xe9xito",icon:"success"}):b.a.fire({title:"Algo sali\xf3 mal: ".concat(e.error),icon:"error"})})).catch((function(e){b.a.fire({title:"Algo sali\xf3 mal: ".concat(e),icon:"error"})}))}))},children:[Object(u.jsxs)(fe.a.Group,{children:[Object(u.jsx)(fe.a.Label,{children:"Selecciona el pa\xeds de las universidades"}),Object(u.jsxs)(fe.a.Select,{"aria-label":"Paises",onChange:function(e){return o(e.target.value)},required:!0,children:[Object(u.jsx)("option",{children:"Selecciona un pa\xeds..."}),j.map((function(e,t){return Object(u.jsx)("option",{value:e.id_pais,children:e.nombre_pais},t)}))]})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(fe.a.Group,{children:[Object(u.jsx)(fe.a.Label,{children:"A\xf1adir archivo"}),Object(u.jsx)(fe.a.Control,{type:"file",id:"archivo",name:"archivo",onChange:function(e){return i(e.target.files)}})]}),Object(u.jsx)("br",{}),Object(u.jsx)(je.a,{type:"submit",children:"Enviar"})]})};var Le=function(){var e=Object(a.useState)([]),t=Object(w.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)([]),c=Object(w.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)([]),d=Object(w.a)(l,2),j=d[0],p=d[1];return Object(a.useEffect)((function(){T("universidades").then((function(e){return p(e)}))}),[]),Object(u.jsxs)(fe.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("universidad",n),Se(t,s,"pensums"),b.a.showLoading(),fetch("".concat(E,"/api/subir_pensums"),{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){e.success?b.a.fire({title:"Proceso terminado con \xe9xito",icon:"success"}):b.a.fire({title:"Algo sali\xf3 mal: ".concat(e.error),icon:"error"})})).catch((function(e){b.a.fire({title:"Algo sali\xf3 mal: ".concat(e),icon:"error"})}))},children:[Object(u.jsxs)(fe.a.Group,{children:[Object(u.jsx)(fe.a.Label,{children:"Selecciona el pa\xeds de las universidades"}),Object(u.jsxs)(fe.a.Select,{"aria-label":"Paises",onChange:function(e){return i(e.target.value)},required:!0,children:[Object(u.jsx)("option",{children:"Selecciona una universidad..."}),j.map((function(e,t){return Object(u.jsx)("option",{value:e.id_universidad,children:e.nombre_universidad},t)}))]})]}),Object(u.jsx)("br",{}),Object(u.jsxs)(fe.a.Group,{controlId:"formFileMultiple",className:"mb-3",children:[Object(u.jsx)(fe.a.Label,{children:"Pensums"}),Object(u.jsx)(fe.a.Control,{type:"file",id:"pensums",name:"pensums",accept:"image/*",multiple:!0,onChange:function(e){return o(e.target.files)}})]}),Object(u.jsx)("br",{}),Object(u.jsx)(je.a,{type:"submit",children:"Enviar"})]})};function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"===typeof e&&(e.indexOf("www.youtube.com")>-1||e.indexOf("youtu.be")>-1)}function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("/"),n=t.slice(-1)[0];if(e.indexOf("youtu.be")>-1)return n;for(var a=n.split("?")[1],i=a.split("&"),r=0;r<i.length;r++){var c=i[r],s=c.split("="),o=Object(w.a)(s,2),l=o[0],u=o[1];if("v"===l)return u}}var ke=n(36),Ae=f()(b.a);var Te=function(){var e=Object(a.useState)(null),t=Object(w.a)(e,2),n=t[0],i=t[1];return Object(u.jsxs)(fe.a,{onSubmit:function(e){e.preventDefault(),Object(v.a)(n[0]).then((function(e){var t={};e[0].forEach((function(n,a){var i=e[1][a];i&&(t[ke[n]]=Fe(i)?Ee(i):i)}));for(var n=[],a=e[2],i=3;i<e.length;i++){for(var r={},c=0;c<6;c++){var s=a[c];if(s){var o=e[i][c];o&&(r[ke[s]]=Fe(o)?Ee(o):o)}}n.push(r)}var l=k({universidad:JSON.stringify(t),carreras:JSON.stringify(n)});Ae.showLoading(),fetch("".concat(E,"/api/actualizar_universidad"),{method:"POST",body:l}).then((function(e){return e.json()})).then((function(e){var t,a=Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{children:["Universidad actualizada:"," ",e.universidad_actualizada?"S\xed":"No, ".concat(e.hasOwnProperty("universidad_error")?e.universidad_error:"La informaci\xf3n que se quer\xeda actualizar es igual a la actual")]}),Object(u.jsxs)("div",{children:["Carreras actualizadas: ",e.carreras.actualizadas,"/",n.length,null!==(t=e.carreras.errores.length>0)&&void 0!==t?t:Object(u.jsx)("ul",{children:e.carreras.errores.map((function(e){return Object(u.jsxs)("li",{children:["Carrera con id ",e.id_carrera,": ",e.message]})}))})]})]});Ae.fire({icon:"success",title:"Proceso finalizado",html:a})})).catch((function(e){Ae.fire({icon:"error",title:e})}))}))},children:[Object(u.jsxs)(fe.a.Group,{children:[Object(u.jsx)(fe.a.Label,{children:"A\xf1adir archivo"}),Object(u.jsx)(fe.a.Control,{type:"file",id:"archivo",name:"archivo",onChange:function(e){return i(e.target.files)}})]}),Object(u.jsx)("br",{}),Object(u.jsx)(je.a,{type:"submit",children:"Enviar"})]})},De=n(37),qe=n.n(De),Ue=f()(b.a);var Be=function(){var e=de().universities;function t(e,t){Ue.fire({title:e,html:Object(u.jsx)(t,{}),showConfirmButton:!1})}return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:qe.a.buttons,children:[Object(u.jsx)(je.a,{variant:"success",onClick:function(){return t("",xe)},children:"Agregar universidad extranjera"}),Object(u.jsx)(je.a,{variant:"warning",onClick:function(){return t("Formulario universidades b\xe1sicas",we)},children:"Agregar universidades b\xe1sicas por lote"}),Object(u.jsx)(je.a,{variant:"warning",onClick:function(){Ue.fire({title:"Formulario universidades nacionales",html:Object(u.jsx)(Ne,{}),showConfirmButton:!1})},children:"Agregar universidades nacionales"}),Object(u.jsx)(je.a,{variant:"warning",onClick:function(){Ue.fire({title:"Convertir perfil b\xe1sico a perfil completo",showConfirmButton:!1,html:Object(u.jsx)(Pe,{})})},children:"Perfiles b\xe1sicos => Perfiles completos"}),Object(u.jsx)(je.a,{variant:"warning",onClick:function(){return t("",Le)},children:"Agregar pensums"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(je.a,{variant:"warning",onClick:function(){return t("",Te)},children:"Actualizar informaci\xf3n de universidades"})]}),Object(u.jsx)("div",{className:qe.a.universities,children:e.map((function(e,t){return Object(u.jsx)(be,{university:e},t)}))})]})},Ie=Object(a.createContext)([]);function Re(e){var t=e.children;return N(Ie,t)}var ze=Object(a.createContext)([]);function Ge(e){var t=e.children;return N(ze,t)}var Me=function(e){return Object(u.jsx)("main",Object(o.a)(Object(o.a)({},e),{},{style:{padding:"25px"},children:Object(u.jsx)(l.c,{children:Object(u.jsx)(Ge,{children:Object(u.jsx)(Re,{children:Object(u.jsx)(le,{children:Object(u.jsxs)(L,{children:[Object(u.jsx)(l.a,{exact:!0,path:"/",component:d}),Object(u.jsx)(l.a,{path:"/posts",component:ne}),Object(u.jsx)(l.a,{path:"/professions",component:se}),Object(u.jsx)(l.a,{path:"/users",component:C}),Object(u.jsx)(l.a,{path:"/universities",component:Be})]})})})})})}))},Je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))},He=n(29),Ve=n.n(He);var We=function(e){var t=e.details,n=t.name,a=t.path,i=Object(l.g)().pathname,r=i.indexOf(a)>-1,c=i===a,o=[Ve.a.section,r&&c?Ve.a.disabled_link:void 0,r?Ve.a.active:void 0];return Object(u.jsx)(s.b,{to:a,className:o.join(" "),children:n})},Ke=n(55),Xe=n.n(Ke);var Qe=function(){return Object(u.jsx)("nav",{className:Xe.a.menu,children:Ye.map((function(e,t){return Object(u.jsx)(We,{details:e},t)}))})},Ye=[{name:"Publicaciones",icon:"",path:"/posts"},{name:"Profesiones",icon:"",path:"/professions"},{name:"Usuarios",icon:"",path:"/users"},{name:"Universidades",icon:"",path:"/universities"}];var Ze=function(e){return e.displayName||e.name||"Component"};var $e=function(e){function t(t){return Object(u.jsxs)("div",{style:{display:"flex",maxHeight:"100vh",minHeight:"100vh",overflow:"hidden"},children:[Object(u.jsx)(Qe,{}),Object(u.jsx)(e,Object(o.a)({style:{width:"90%",overflow:"auto"}},t))]})}return t.displayName="WithLateralMenu(".concat(Ze(e),")"),t}(Me);c.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(s.a,{children:Object(u.jsx)($e,{})})}),document.getElementById("root")),Je()}},[[80,1,2]]]);
//# sourceMappingURL=main.084b314c.chunk.js.map